# support command && Extension method

## 已支持跟踪COMMAND

* get
* set
* mget
* mset

## 更新计划

2017年1月20日以前支持绝大部分复杂命令

## 扩展埋点方法

### 埋点用的宏:

* INITDURATIONARG		//初始化参数
* STARTDURATION			//开始
* LOGDURATION			//结束单次跟踪


### 示例:

```
/* 
robj *lookupKeyWrite(redisDb *db, robj *key) {
    INITDURATIONARG;
    STARTDURATION("expireIfNeeded");
    
    // 删除过期键
    expireIfNeeded(db,key);
    LOGDURATION;

    //可以多次使用
    STARTDURATION("自定义操作块名称");

    命令行;
    LOGDURATION;

    // 查找并返回 key 的值对象
    return lookupKey(db,key);
}

```
